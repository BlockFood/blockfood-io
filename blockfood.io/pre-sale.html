<div class='container pre-sale'>
    <div class='row row-bottom-padded-md'>
        <div class='col-lg-12'>
            <div id='animation_01_container' style='width:400px; height:300px'>
                <canvas id='animation_01' width='400' height='300'
                        style='position: absolute; display: block;'></canvas>
                <div id='animation_01_overlay'
                     style='pointer-events:none; overflow:hidden; width:400px; height:300px; position: absolute; left: 0px; top: 0px; display: block;'>
                </div>
            </div>

            <div class='loading'>Loading...
                <div class='bfio-loader'></div>
            </div>

            <div class='step1' style='display: none'>
                <h1>Pre-Sale 1/3</h1>

                <div class='p-like warning'>
                    <strong>The process currently needs MetaMask to work. MetaMask is only available on desktop browsers. You can do the step 1 and 2 on a mobile device, but the last step will only work on a desktop.</strong>
                </div>
                
                <p>
                    Welcome to BlockFood's pre-sale. Pre-sale rules are defined in our <a
                        href='https://whitepaper.blockfood.io/token-sale' target='_blank'>white paper</a>.
                </p>

                <div class='p-like'>
                    BlockFoodToken pre-sale characteristics:
                    <ul>
                        <li><b>Token type:</b> ERC20</li>
                        <li><b>Start</b>: January 8th 2018</li>
                        <li><b>End</b>: February 8th 2018</li>
                        <li><b>Minimum cap</b>: 100 Eth or 60 000$</li>
                        <li><b>Maximum cap</b>: 200 Eth or 120 000$</li>
                        <li><b>Exchange rate</b>: 1 Eth = 1 500 BFT (+50% bonus compared to main sale)</li>
                        <li><b>Accepted currency</b>: Ethereum</li>
                        <li><b>Minimum contribution</b>: 0.1 Eth</li>
                        <li><b>Token availability</b>: April 12th 2018 at the latest</li>
                    </ul>
                </div>

                <div class='p-like'>
                    To participate in this pre-sale, you must provide the following accurate information:
                    <ul>
                        <li>Email address</li>
                        <li>Full name</li>
                        <li>Country of residence</li>
                    </ul>
                </div>

                <div class='p-like'>
                    Once your participation is finalized, a third-party identification service will contact you at the
                    provided email address in order to complete the KYC process. You will have to provide the following
                    information:
                    <ul>
                        <li>Address</li>
                        <li>National identity card or Passport</li>
                    </ul>
                </div>


                <div class='p-like apply-form-intro'>To start your application for pre-sale, enter your email address:
                </div>


                <div class='p-like'>
                    <div class='p-like apply-form input-group mb-2 mb-sm-0'>
                        <div class='input-group-addon'>@</div>
                        <input type='email' class='form-control apply-email' placeholder='Enter your email address'/>
                        <input value='Continue' class='btn btn-primary apply-btn' type='submit'/>
                    </div>
                    <div class='p-like apply-form-error text-center warning' style='display:none'>
                        Something went wrong. Please check your email address and try again.
                    </div>
                    <div class='p-like apply-form-success conclusion' style='display:none'>
                        <span class='email'></span> - Thank you. Check your inbox for the next step.
                    </div>
                </div>

                <p class='apply-form-advice'>
                    An email will be sent to your address with instructions for the next step.
                </p>

                <div class='p-like'>
                    Warning: an ethereum address can only be used once for this process. If you wish to participate a
                    second time, you can use the same email address but your need to use a different ethereum address.
                </div>
            </div>

            <div class='error' style='display:none'>
                <h1>Pre-Sale</h1>

                <p>
                    Your application could not be found or our network is temporarily down.<br><br>
                    Please check the URL. If the URL is correct but this message is displayed, return to
                    <a href='{{urls.preSale}}'>step 1</a>.
                </p>
            </div>

            <div class='step2a' style='display: none'>
                <h1>Pre-Sale step 2/3</h1>

                <div class='form'>
                    <p>In order to complete your application, please complete the following fields:</p>

                    <form id='step2-form' method='post' enctype='multipart/form-data'>
                        <div class='p-like'>
                            <div class='input-group mb-2 mb-sm-0'>
                                <div class='input-group-addon'>* Email</div>
                                <input type='text' class='form-control email' disabled placeholder='email'
                                       name='email'/>
                            </div>
                        </div>

                        <div class='p-like'>
                            <div class='input-group mb-2 mb-sm-0'>
                                <div class='input-group-addon'>* Complete name</div>
                                <input type='text' class='form-control first-name' name='firstName' autofocus
                                       placeholder='First name'/>
                                <input type='text' class='form-control last-name' name='lastName'
                                       placeholder='Last name'/>
                            </div>
                        </div>

                        <div class='p-like'>
                            <div class='input-group mb-2 mb-sm-0'>
                                <div class='input-group-addon'>* Country of residence</div>
                                <input type='text' class='form-control address-country' name='country'
                                       placeholder='Country'/>
                            </div>
                        </div>

                        <div class='p-like'>
                            <div class='input-group mb-2 mb-sm-0'>
                                <div class='input-group-addon'>Referrer</div>
                                <input type='text' class='form-control sponsor-id' name='sponsor'
                                       placeholder='Referrer (optional)'/>
                            </div>
                        </div>

                        <div class='p-like'>Fields marked with an asterisk (*) are mandatory.</div>

                        <div class='text-right'>
                            <div class='submit-error' style='display:none'></div>
                            <input value='Validate' class='btn btn-primary step2-btn' type='submit'/>
                        </div>


                    </form>
                </div>
            </div>

            <div class='step2b' style='display: none'>
                <h1>Pre-Sale step 2/3</h1>

                <p>Please review the following information:</p>

                <div class='recap recap-email'>
                    <div class='field'>Email</div>
                    <div class='value'></div>
                </div>
                <div class='recap recap-firstName'>
                    <div class='field'>First name</div>
                    <div class='value'></div>
                </div>
                <div class='recap recap-lastName'>
                    <div class='field'>Last name</div>
                    <div class='value'></div>
                </div>

                <div class='recap recap-country'>
                    <div class='field'>Country of residence</div>
                    <div class='value'></div>
                </div>

                <div class='recap recap-sponsor'>
                    <div class='field'>Referrer</div>
                    <div class='value'>N/A</div>
                </div>

                <p>If there is a mistake in the information above, you can modify your information using the "Modify"
                    button below.</p>

                <div class='text-left'>
                    <input value='Modify'
                           class='btn btn-default step2b-btn-modify' type='submit'/>

                    <input value='Confirm (warning: your application cannot be modified after this)'
                           class='btn btn-primary step2b-btn-confirm pull-right' type='submit'/>
                </div>

                <div class='text-right'>
                </div>
            </div>

            <div class='step3' style='display: none'>
                <h1>Pre-Sale final step</h1>

                <div class="p-like">
                    <h2>How do you want to proceed?</h2>

                    <a href="javascript:;" class="btn btn-default use-metamask"><img
                            src="https://metamask.io/img/metamask.png" alt="metamask"
                            style="max-height: 50px"><br>Use MetaMask</a>
                    <a href="javascript:;" class="btn btn-default use-myetherwallet"><img
                            src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/05/Ethereum_logo_2014.svg/1200px-Ethereum_logo_2014.svg.png"
                            alt="ethereum" style="max-height: 50px;"><br>Use MyEtherWallet</a>
                </div>


                <div class="metamask" style='display:none'>
                    <div class='loading'>Loading...
                        <div class='bfio-loader'></div>
                    </div>

                    <div class='metamask-required' style='display:none'>
                        <div class='p-like'>

                            This step of the pre-sale process requires to have <a
                                href='https://metamask.io/'>MetaMask</a>
                            installed. If you don't have MetaMask, go to <a
                                href='https://metamask.io/' target='_blank'>https://metamask.io/ <i
                                class='icon-external-link'></i></a>
                            and follow the instructions.
                        </div>

                        <div class='p-like'>
                            <h2>What is MetaMask?</h2>
                            MetaMask will allow you to use your Ethereum directly in your browser. It will enable us a
                            way
                            to browse the blockchain and create a transaction that will transfer your selected amount of
                            ether
                            directly to our smart contract.<br><br>
                            Once we create the transaction, a MetaMask validation popup will appear and allow you to
                            control
                            the transaction, adjust the gas limit and the gas price and confirm it.<br><br>
                        </div>

                    </div>

                    <div class='metamask-unlock' style='display: none'>
                        <h2>Unlock your MetaMask</h2>
                        <div class='p-like'>
                            It seems your MetaMask is not unlocked.<br><br>
                            In order to unlock your MetaMask plugin, click on the icon and enter your password.<br><br>
                            Once your MetaMask plugin is unlocked, simply reload this page or use the button below.
                        </div>
                        <div class='p-like text-center'>
                            <img src='images/pre-sale/unlock-metamask.png'>
                        </div>
                        <div class='p-like text-center'>
                            <a class='btn btn-primary reloadBtn' href='javascript:;'>I've unlocked my
                                MetaMask plugin</a>
                        </div>
                    </div>

                    <div class='smart-contract-summary' style='display:none'>
                        <div class='p-like ethereum-characteristics'>
                            Characteristics of your ethereum address:
                            <ul>
                                <li>Address: <code><span class='address'>(loading)</span></code></li>
                                <li>Balance: <code><span class='balance'>(loading)</span> Ether</code> (<a
                                        href='javascript:;' class='refresh'>refresh</a>)
                                </li>
                            </ul>
                        </div>

                        <div class='p-like existing-tx conclusion' style='display:none'>
                            It seems you already have some transactions in progress with our smart contract:
                            <div class='transactions'></div>

                            If those transactions are taking too long, you can resend them using the MetaMask
                            plugin.<br><br>Click on the "Taking too long? Retry with a higher gas price here"
                            button:<br>
                            <div class='p-like text-center'><img src='images/pre-sale/update-transaction.png'></div>
                            If you use the form below, a new transaction will be created and put after the existing
                            ones.<br>
                            This will likely result in an error once they are executed!
                        </div>

                        <div class='p-like ether-amount'>
                            Enter the amount of Ether you wish to give
                            <ul>
                                <li>minimum: <code><span class='minimum'>(loading)</span> Ether</code></li>
                                <li>maximum: <code><span class='maximum'>(loading)</span> Ether</code> (<a
                                        href='javascript:;' class='refresh'>refresh</a>)
                                </li>
                            </ul>
                        </div>

                        <div class='p-like'>
                            <div class='input-group mb-2 mb-sm-0'>
                                <div class='input-group-addon'>Ether</div>
                                <input type='text' class='form-control' name='ether'
                                       placeholder='Ether (e.g: 8.5, 100, 42, 0.1, ...)'/>
                            </div>
                        </div>
                        <div class='p-like warning ether-amount' style='display:none'>
                            Check your ether amount: minimum contribution = <code><span class='minimum'>0.1</span>
                            Ether</code>, maximum contribution = <code><span class='maximum'>200</span> Ether</code>.
                            <br>
                            If you have decimals, make sure you use a point <code>.</code> instead of a coma
                            <code>,</code>
                            as delimiter.
                        </div>

                        <div class='p-like text-center'>
                            <input value='Apply' class='btn btn-primary step3-btn' type='submit'/>
                        </div>

                        <div class='p-like estimates'>
                            When MetaMask popup opens, you have to set the gas price and gas limit:
                            <ul>
                                <li>
                                    Gas limit: <code>200 000 units</code> (Normal usage is: <code>170 994 units</code>)
                                </li>
                                <li>Gas price ⛽
                                    <ul>
                                        <li class='slow'>Slow: <code><span class='gwei'>30</span> gwei</code> (should
                                            take
                                            around <span class='duration'>20</span> minutes)
                                        </li>
                                        <li class='normal'>Normal: <code><span class='gwei'>50</span> gwei</code>
                                            (should
                                            take around <span class='duration'>2</span> minutes)
                                        </li>
                                        <li class='fast'>Faster: <code><span class='gwei'>70</span> gwei</code> (should
                                            take
                                            around <span class='duration'>0.5</span> minute)
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </div>

                        <div class='error p-like transaction-creation-failed  text-center' style='display:none'>
                            Could not create the transaction. Please retry.
                        </div>

                        <div class='transaction-1 p-like text-center' style='display:none'>
                            Waiting for MetaMask confirmation (this can take a while, be patient)...<br>
                            <div class='bfio-loader'></div>
                        </div>

                        <div class='transaction-2 p-like text-center' style='display:none'>
                            Waiting for transaction to be mined (this can take a while)...
                            <div class='bfio-loader'></div>
                        </div>

                        <div class='ether-scan p-like text-center' style='display:none'>
                            Your transaction should be visible here after a while: <a href='' target='_blank'>EtherScan
                            -
                            <span class='tx'></span></a>
                        </div>

                        <div class='transaction-3 p-like conclusion' style='display:none'>
                            Transaction successful ! The BlockFood team will review your information and accept your
                            participation if everything is in order.<br><br>
                            You should receive a confirmation email in the next 24 hours.
                        </div>
                    </div>

                </div>
                <div class="myetherwallet" style="display:none">
                    <div class='p-like'>
                        <h2>How to finalize your application using MyEtherWallet</h2>
                        If you prefer to use MyEtherWallet <strong>instead</strong> of MetaMask, you need to
                        interact
                        directly with the smart contract.
                        Follow this instructions:<br>
                        <ol>
                            <li>
                                Go to <a href='https://www.myetherwallet.com/#contracts' target='_blank'>
                                https://www.myetherwallet.com/#contracts <i class='icon-external-link'></i></a>
                            </li>
                            <li>(ANTI-PHISHING) Verify the address of the website. It should be:
                                <code>https://www.myetherwallet.com/#contracts</code>
                            </li>
                            <li>
                                Enter contract address: <br>
                                <a class='btn copy-pre-sale-address'>📋 Copy address</a>
                                <code class='pre-sale-smart-contract-address'></code>
                                <span class='pre-sale-address-copied' style='display: none'><i>copied</i></span>
                            </li>
                            <li>
                                Enter ABI / JSON interface: <br>
                                <ol>
                                    <li>
                                        <a class='btn copy-pre-sale-abi'>📋 Copy ABI / JSON interface</a> <span
                                            class='abi-copied' style='display: none'><i>copied</i></span></li>
                                    <div class='abi-container'><code class='pre-sale-abi'>[{"constant":false,"inputs":[{"name":"minCap_","type":"uint256"}],"name":"changeMinCap","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"maxCap","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amount","type":"uint256"}],"name":"withdraw","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"minCap","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"failsafe","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"contributionRejected","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"refund","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"id","type":"string"}],"name":"apply","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"applicants","outputs":[{"name":"applicant","type":"address"},{"name":"id","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"contributionPending","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"maxCap_","type":"uint256"}],"name":"changeMaxCap","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"applications","outputs":[{"name":"contribution","type":"uint256"},{"name":"id","type":"string"},{"name":"state","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"applicant","type":"address"}],"name":"accept","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"owner_","type":"address"}],"name":"changeOwner","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getMaximumContributionPossible","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"minContribution","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"applicant","type":"address"}],"name":"reject","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getApplicantsLength","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"minContribution_","type":"uint256"}],"name":"changeMinContribution","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"endDate","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"contributionAccepted","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"withdrawn","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"target","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"target_","type":"address"}],"name":"changeTarget","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"target_","type":"address"},{"name":"endDate_","type":"uint256"},{"name":"minContribution_","type":"uint256"},{"name":"minCap_","type":"uint256"},{"name":"maxCap_","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"applicant","type":"address"},{"indexed":false,"name":"contribution","type":"uint256"},{"indexed":false,"name":"id","type":"string"}],"name":"PendingApplication","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"applicant","type":"address"},{"indexed":false,"name":"contribution","type":"uint256"},{"indexed":false,"name":"id","type":"string"}],"name":"RejectedApplication","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"applicant","type":"address"},{"indexed":false,"name":"contribution","type":"uint256"},{"indexed":false,"name":"id","type":"string"}],"name":"AcceptedApplication","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"target","type":"address"},{"indexed":false,"name":"amount","type":"uint256"}],"name":"Withdrawn","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"target","type":"address"},{"indexed":false,"name":"amount","type":"uint256"}],"name":"Refund","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"owner","type":"address"},{"indexed":false,"name":"target","type":"address"},{"indexed":false,"name":"minContribution","type":"uint256"},{"indexed":false,"name":"minCap","type":"uint256"},{"indexed":false,"name":"maxCap","type":"uint256"}],"name":"ContractUpdate","type":"event"}]</code>
                                    </div>

                                    <li>Return to the page and paste the content of your clipboard in the "ABI /
                                        JSON
                                        interface" text area.
                                    </li>
                                </ol>
                            </li>
                            <li>Click on the "Access" button</li>
                            <li>Click on "Select a function" and select "apply"</li>
                            <li>
                                A new parameter field should appear, called "id" of type "string".

                                Enter the following value:<br>
                                <a class='btn copy-applicant-id'>📋 Copy id</a> <code class='publicId'></code> <span
                                    class='copy-applicant-id' style='display: none'><i>copied</i></span>
                            </li>
                            <li>Unlock your wallet as usual on MyEtherWallet</li>
                            <li>Click on the "Write" button</li>
                            <li>A popup should appear, letting you review the amount you wish to send to the
                                contract
                                and the gas limit.
                                <ul>
                                    <li>Set the amount of Ether you wish to give</li>
                                    <li>Set the gas limit to <code>200 000</code></li>
                                </ul>
                            </li>
                            <li>Click on "Generate transaction"</li>
                            <li>Click on "Yes, I am sure! Make transaction."</li>
                            <li>If everything is correct, a green message should appear at the bottom of the
                                page.<br>
                                It contains a link to the newly created transaction. Open it if you want to track
                                your
                                transaction. <br>You will also be able to retrieve this transaction on <a
                                        href='https://etherscan.io/address/0x762c128a5bac6553e66fb2c07bee864576966c26'
                                        target='_blank'>EtherScan <i class='icon-external-link'></i></a></li>
                        </ol>

                    </div>
                </div>


            </div>

            <div class='step4' style='display: none'>
                <h1>Pre-Sale step 3/3</h1>
                <div class='p-like'>Your participation has been registered.</div>

                <div class='p-like participation-summary'>
                    Participation summary:
                    <ul>
                        <li class='contribution'>Contribution: <code><span class='value'></span> Ether</code></li>
                        <li class='publicId'>Public ID: <code><span class='value'></span></code></li>
                        <li class='state'>State: <code><span class='value'></span></code></li>
                    </ul>
                </div>

                <div class='p-like state-pending conclusion' style='display: none'>
                    The BlockFood team is currently reviewing your information. <br><br>
                    Current application state: <strong>pending</strong>.
                </div>
                <div class='p-like state-refused conclusion' style='display: none'>
                    We are sorry to inform you that your application was <strong>declined</strong> due to KYC-related
                    reasons. <br><br>
                    Final application state: <strong>refused</strong>.

                </div>
                <div class='p-like state-accepted conclusion' style='display: none'>
                    Your application was <strong>accepted</strong>! Thank you so very much. You are officially one of
                    the person we, at BlockFood, will always be thankful to. Thanks again for being
                    <strong>awesome</strong>.<br><br>
                    Final application state: <strong>accepted</strong>.
                </div>
            </div>

            <div class='p-like conclusion' style="margin-top: 100px">
                If you need any help, you can check our guide: <a
                    href='https://medium.com/blockfood/how-to-participate-in-pre-sale-3b63aa7049cb' target='_blank'>💡
                How
                to participate in pre-sale <i class='icon-external-link'></i></a><br><br>
                You can also talk to us directly using our Telegram group: <a href='https://t.me/blockfood'
                                                                              target='_blank'>@BlockFood <i
                    class='icon-external-link'></i></a><br><br>
                Or send us an email at <a href='mailto:contact@blockfood.io'>contact@blockfood.io</a>
            </div>

        </div>
    </div>


</div>

<script src='js/ethjs-contract.min.js'></script>
<script src='js/ethjs-query.min.js'></script>
<script src='js/pre-sale-abi.js'></script>
<script src='js/pre-sale.js'></script>